{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n\n\nexport function searchFoto(userValue) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const PARAMS = new URLSearchParams({\n        key: \"42342437-5c4c341e915bce4954251eee0\",\n        q: userValue,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n    const url = BASE_URL + END_POINT + \"?\" + PARAMS;\n\n  return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Error fetching data: ' + response.status);\n            }\n            return response.json();\n        })\n        .catch(error => {\n            console.error('Error fetching data:', error);\n        });\n}\n","\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nexport function renderFoto(data) {\n    const gallery = document.querySelector('.js-container');\n    const fragment = document.createDocumentFragment();\n\n    // Очищення вмісту галереї перед додаванням нових карточок\n    gallery.innerHTML = '';\n\n    data.hits.forEach(image => {\n        // Створюємо контейнер для карточки зображення\n        const card = document.createElement('div');\n        card.classList.add('image-card');\n\n        // Створюємо посилання\n        const link = document.createElement('a');\n        link.href = image.largeImageURL;\n\n        // Створюємо зображення\n        const imgElement = document.createElement('img');\n        imgElement.src = image.webformatURL;\n        imgElement.alt = image.tags;\n\n        // Додаємо зображення до посилання\n        link.appendChild(imgElement);\n\n        // Додаємо посилання з зображенням до карточки\n        card.appendChild(link);\n\n        // Створюємо елементи для відображення інформації про зображення\n        const infoContainer = document.createElement('div');\n        infoContainer.classList.add('image-info');\n\n        const likesInfo = document.createElement('span');\n        likesInfo.textContent = `Likes: ${image.likes}`;\n\n        const viewsInfo = document.createElement('span');\n        viewsInfo.textContent = `Views: ${image.views}`;\n\n        const commentsInfo = document.createElement('span');\n        commentsInfo.textContent = `Comments: ${image.comments}`;\n\n        const downloadsInfo = document.createElement('span');\n        downloadsInfo.textContent = `Downloads: ${image.downloads}`;\n\n        // Додаємо інформацію про зображення до контейнера для інформації\n        infoContainer.appendChild(likesInfo);\n        infoContainer.appendChild(viewsInfo);\n        infoContainer.appendChild(commentsInfo);\n        infoContainer.appendChild(downloadsInfo);\n\n        // Додаємо контейнер для інформації до карточки\n        card.appendChild(infoContainer);\n\n        // Додаємо карточку до фрагменту\n        fragment.appendChild(card);\n    });\n\n    // Додаємо фрагмент з карточками до галереї\n    gallery.appendChild(fragment);\n\n    // Ініціалізуємо SimpleLightbox для всіх зображень у галереї\n    const lightbox = new SimpleLightbox('.js-container .image-card a', {\n         captionsData: 'alt',\n         captionDelay: 250,\n    });\n    lightbox.refresh();\n}\n","import { searchFoto } from './js/pixabay-api.js';\nimport { renderFoto } from './js/render-functions.js';\n\n// Імпортуємо необхідний плагін\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.getElementById('search-form');\nconst gallery = document.querySelector('.js-container');\nconst loader = document.querySelector('.loader');\n\n// Додаємо обробник події click для кнопки\nform.addEventListener('submit', function(event) {\n    event.preventDefault();\n\n    const query = document.getElementById('search-input').value.trim();\n    if (!query) {\n        iziToast.warning({\n            title: 'Warning',\n            message: 'Please enter a search images',\n        });\n        return;\n    }\n\n    // Показати завантажувач після кліку на кнопку\n    loader.style.display = 'block';\n    gallery.innerHTML = '';\n\n    // Зробити HTTP-запит\n    searchFoto(query)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            } else {\n                renderFoto(data);\n            }\n        })\n        .catch(error => {\n            if (gallery.innerHTML === '') {\n                console.error('Error fetching data:', error);\n                iziToast.error({\n                    title: 'Error',\n                    message: 'An error occurred while searching for images',\n                });\n            }\n        })\n        .finally(() => {\n            // Приховати завантажувач після завершення запиту\n            loader.style.display = 'none';\n        });\n});\n"],"names":["searchFoto","userValue","BASE_URL","END_POINT","PARAMS","url","response","error","renderFoto","data","gallery","fragment","image","card","link","imgElement","infoContainer","likesInfo","viewsInfo","commentsInfo","downloadsInfo","SimpleLightbox","form","loader","event","query","iziToast"],"mappings":"6vBAGO,SAASA,EAAWC,EAAW,CAClC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKI,EAAMH,EAAWC,EAAY,IAAMC,EAE3C,OAAO,MAAMC,CAAG,EACT,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,wBAA0BA,EAAS,MAAM,EAE7D,OAAOA,EAAS,MAC5B,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAM,uBAAwBA,CAAK,CACvD,CAAS,CACT,CClBO,SAASC,EAAWC,EAAM,CAC7B,MAAMC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAW,SAAS,yBAG1BD,EAAQ,UAAY,GAEpBD,EAAK,KAAK,QAAQG,GAAS,CAEvB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,YAAY,EAG/B,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOF,EAAM,cAGlB,MAAMG,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,IAAMH,EAAM,aACvBG,EAAW,IAAMH,EAAM,KAGvBE,EAAK,YAAYC,CAAU,EAG3BF,EAAK,YAAYC,CAAI,EAGrB,MAAME,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,UAAU,IAAI,YAAY,EAExC,MAAMC,EAAY,SAAS,cAAc,MAAM,EAC/CA,EAAU,YAAc,UAAUL,EAAM,KAAK,GAE7C,MAAMM,EAAY,SAAS,cAAc,MAAM,EAC/CA,EAAU,YAAc,UAAUN,EAAM,KAAK,GAE7C,MAAMO,EAAe,SAAS,cAAc,MAAM,EAClDA,EAAa,YAAc,aAAaP,EAAM,QAAQ,GAEtD,MAAMQ,EAAgB,SAAS,cAAc,MAAM,EACnDA,EAAc,YAAc,cAAcR,EAAM,SAAS,GAGzDI,EAAc,YAAYC,CAAS,EACnCD,EAAc,YAAYE,CAAS,EACnCF,EAAc,YAAYG,CAAY,EACtCH,EAAc,YAAYI,CAAa,EAGvCP,EAAK,YAAYG,CAAa,EAG9BL,EAAS,YAAYE,CAAI,CACjC,CAAK,EAGDH,EAAQ,YAAYC,CAAQ,EAGX,IAAIU,EAAe,8BAA+B,CAC9D,aAAc,MACd,aAAc,GACvB,CAAK,EACQ,QAAO,CACpB,CC3DA,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CZ,EAAU,SAAS,cAAc,eAAe,EAChDa,EAAS,SAAS,cAAc,SAAS,EAG/CD,EAAK,iBAAiB,SAAU,SAASE,EAAO,CAC5CA,EAAM,eAAc,EAEpB,MAAMC,EAAQ,SAAS,eAAe,cAAc,EAAE,MAAM,OAC5D,GAAI,CAACA,EAAO,CACRC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,8BACrB,CAAS,EACD,MACH,CAGDH,EAAO,MAAM,QAAU,QACvBb,EAAQ,UAAY,GAGpBV,EAAWyB,CAAK,EACX,KAAKhB,GAAQ,CACNA,EAAK,KAAK,SAAW,EACrBiB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC7B,CAAiB,EAEDlB,EAAWC,CAAI,CAE/B,CAAS,EACA,MAAMF,GAAS,CACRG,EAAQ,YAAc,KACtB,QAAQ,MAAM,uBAAwBH,CAAK,EAC3CmB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8CAC7B,CAAiB,EAEjB,CAAS,EACA,QAAQ,IAAM,CAEXH,EAAO,MAAM,QAAU,MACnC,CAAS,CACT,CAAC"}