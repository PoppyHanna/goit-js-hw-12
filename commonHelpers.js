import{a as x,S as E,i as h}from"./assets/vendor-da186403.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();async function C(c,n=1,o=15){const l="https://pixabay.com",e="/api/",t=new URLSearchParams({key:"42342437-5c4c341e915bce4954251eee0",q:c,image_type:"photo",orientation:"horizontal",safesearch:!0,page:n,per_page:o}),a=l+e+"?"+t;try{const r=await x.get(a);if(!r.data.hits)throw new Error("Error fetching data: No hits");return r.data}catch(r){throw console.error("Error fetching data:",r),r}}function I(c){const n=document.querySelector(".js-container"),o=document.createDocumentFragment();c.hits.forEach(e=>{const t=document.createElement("li");t.classList.add("image-card");const a=document.createElement("a");a.href=e.largeImageURL;const r=document.createElement("img");r.classList.add("pic-card"),r.src=e.webformatURL,r.alt=e.tags,a.appendChild(r),t.appendChild(a);const i=document.createElement("div");i.classList.add("item-text");const s=document.createElement("ul");s.classList.add("image-info");const d=document.createElement("li");d.textContent=`Likes: ${e.likes}`;const m=document.createElement("li");m.textContent=`Views: ${e.views}`;const u=document.createElement("li");u.textContent=`Comments: ${e.comments}`;const p=document.createElement("li");p.textContent=`Downloads: ${e.downloads}`,s.appendChild(d),s.appendChild(m),s.appendChild(u),s.appendChild(p),i.appendChild(s),t.appendChild(i),o.appendChild(t)}),n.appendChild(o),new E(".js-container .image-card a",{captionsData:"alt",captionDelay:250}).refresh()}function v(c){const n=document.querySelector(".js-container"),o=document.createDocumentFragment();c.hits.forEach(e=>{const t=document.createElement("li");t.classList.add("image-card");const a=document.createElement("a");a.href=e.largeImageURL;const r=document.createElement("img");r.classList.add("pic-card"),r.src=e.webformatURL,r.alt=e.tags,a.appendChild(r),t.appendChild(a);const i=document.createElement("div");i.classList.add("item-text");const s=document.createElement("ul");s.classList.add("image-info");const d=document.createElement("li");d.textContent=`Likes: ${e.likes}`;const m=document.createElement("li");m.textContent=`Views: ${e.views}`;const u=document.createElement("li");u.textContent=`Comments: ${e.comments}`;const p=document.createElement("li");p.textContent=`Downloads: ${e.downloads}`,s.appendChild(d),s.appendChild(m),s.appendChild(u),s.appendChild(p),i.appendChild(s),t.appendChild(i),o.appendChild(t)}),n.appendChild(o),new E(".js-container .image-card a",{captionsData:"alt",captionDelay:250}).refresh()}const S=document.getElementById("search-form"),w=document.querySelector(".js-container"),y=document.querySelector(".loader"),f=document.getElementById("load-more-btn");let g=1,L="",b=0;S.addEventListener("submit",async function(c){c.preventDefault();const n=document.getElementById("search-input").value.trim();if(!n){h.warning({title:"Warning",message:"Please enter a search images"});return}y.style.display="block",f.style.display="none",g=1,L=n;try{const o=await C(n,g);o.hits.length===0?h.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"}):(b=o.totalHits,I(o),o.hits.length>=15&&(f.style.display="block"))}catch{w.innerHTML===""&&h.error({title:"Error",message:"An error occurred while searching for images"})}finally{y.style.display="none"}});f.addEventListener("click",async function(c){c.preventDefault(),y.style.display="block";try{g++;const n=await C(L,g);if(n.hits.length>0){const o=document.querySelector(".image-card").getBoundingClientRect().height;v(n),window.scrollBy({top:o*2,behavior:"smooth"})}}catch{f.style.display="none",h.warning({title:"Warning",message:"No more images to load"})}finally{w.querySelectorAll(".image-card").length>=b&&(f.style.display="none",h.info({title:"Info",message:"We're sorry, but you've reached the end of search results."})),y.style.display="none"}});
//# sourceMappingURL=commonHelpers.js.map
