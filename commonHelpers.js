import{a as C,S as b,i as l}from"./assets/vendor-da186403.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}})();async function E(o,t=1,r=15){const c="https://pixabay.com",e="/api/",n=new URLSearchParams({key:"42342437-5c4c341e915bce4954251eee0",q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:r}),a=c+e+"?"+n;try{const s=await C.get(a);if(!s.data.hits)throw new Error("Error fetching data: No hits");return s.data}catch(s){throw console.error("Error fetching data:",s),s}}function v(o){const t=document.querySelector(".js-container"),r=document.createDocumentFragment();t.innerHTML="",o.hits.forEach(e=>{const n=document.createElement("div");n.classList.add("image-card");const a=document.createElement("a");a.href=e.largeImageURL;const s=document.createElement("img");s.src=e.webformatURL,s.alt=e.tags,a.appendChild(s),n.appendChild(a);const i=document.createElement("div");i.classList.add("image-info");const p=document.createElement("span");p.textContent=`Likes: ${e.likes}`;const f=document.createElement("span");f.textContent=`Views: ${e.views}`;const y=document.createElement("span");y.textContent=`Comments: ${e.comments}`;const g=document.createElement("span");g.textContent=`Downloads: ${e.downloads}`,i.appendChild(p),i.appendChild(f),i.appendChild(y),i.appendChild(g),n.appendChild(i),r.appendChild(n)}),t.appendChild(r),new b(".js-container .image-card a",{captionsData:"alt",captionDelay:250}).refresh()}const S=document.getElementById("search-form"),m=document.querySelector(".js-container"),u=document.querySelector(".loader"),d=document.getElementById("load-more-btn");let h=1,w="",L=0;S.addEventListener("submit",async function(o){o.preventDefault();const t=document.getElementById("search-input").value.trim();if(!t){l.warning({title:"Warning",message:"Please enter a search images"});return}u.style.display="block",m.innerHTML="",d.style.display="none",h=1,w=t;try{const r=await E(t,h);r.hits.length===0?l.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"}):(L=r.totalHits,v(r),r.hits.length>=15&&(d.style.display="block"))}catch{m.innerHTML===""&&l.error({title:"Error",message:"An error occurred while searching for images"})}finally{u.style.display="none"}});d.addEventListener("click",async function(o){o.preventDefault(),u.style.display="block";try{h++;const t=await E(w,h);if(t.hits.length>0){const r=document.querySelector(".image-card").getBoundingClientRect().height;I(t),window.scrollBy({top:r*2,behavior:"smooth"})}}catch{d.style.display="none",l.warning({title:"Warning",message:"No more images to load"})}finally{m.querySelectorAll(".image-card").length>=L&&(d.style.display="none",l.info({title:"Info",message:"We're sorry, but you've reached the end of search results."})),u.style.display="none"}});function I(o){const t=document.createDocumentFragment();o.hits.forEach(r=>{const c=document.createElement("div");c.classList.add("image-card"),t.appendChild(c)}),m.appendChild(t)}
//# sourceMappingURL=commonHelpers.js.map
