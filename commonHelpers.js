import{a as L,S as b,i as u}from"./assets/vendor-da186403.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();async function E(c,n=1,o=15){const a="https://pixabay.com",e="/api/",t=new URLSearchParams({key:"42342437-5c4c341e915bce4954251eee0",q:c,image_type:"photo",orientation:"horizontal",safesearch:!0,page:n,per_page:o}),s=a+e+"?"+t;try{const r=await L.get(s);if(!r.data.hits)throw new Error("Error fetching data: No hits");return r.data}catch(r){throw console.error("Error fetching data:",r),r}}function v(c){const n=document.querySelector(".js-container"),o=document.createDocumentFragment();c.hits.forEach(e=>{const t=document.createElement("div");t.classList.add("image-card");const s=document.createElement("a");s.href=e.largeImageURL;const r=document.createElement("img");r.src=e.webformatURL,r.alt=e.tags,s.appendChild(r),t.appendChild(s);const i=document.createElement("div");i.classList.add("image-info");const l=document.createElement("span");l.textContent=`Likes: ${e.likes}`;const d=document.createElement("span");d.textContent=`Views: ${e.views}`;const m=document.createElement("span");m.textContent=`Comments: ${e.comments}`;const g=document.createElement("span");g.textContent=`Downloads: ${e.downloads}`,i.appendChild(l),i.appendChild(d),i.appendChild(m),i.appendChild(g),t.appendChild(i),o.appendChild(t)}),n.appendChild(o),new b(".js-container .image-card a",{captionsData:"alt",captionDelay:250}).refresh()}function I(c){const n=document.querySelector(".js-container"),o=document.createDocumentFragment();c.hits.forEach(a=>{const e=document.createElement("div");e.classList.add("image-card");const t=document.createElement("a");t.href=a.largeImageURL;const s=document.createElement("img");s.src=a.webformatURL,s.alt=a.tags,t.appendChild(s),e.appendChild(t);const r=document.createElement("div");r.classList.add("image-info");const i=document.createElement("span");i.textContent=`Likes: ${a.likes}`;const l=document.createElement("span");l.textContent=`Views: ${a.views}`;const d=document.createElement("span");d.textContent=`Comments: ${a.comments}`;const m=document.createElement("span");m.textContent=`Downloads: ${a.downloads}`,r.appendChild(i),r.appendChild(l),r.appendChild(d),r.appendChild(m),e.appendChild(r),o.appendChild(e)}),n.appendChild(o)}const x=document.getElementById("search-form"),y=document.querySelector(".js-container"),h=document.querySelector(".loader"),p=document.getElementById("load-more-btn");let f=1,C="",w=0;x.addEventListener("submit",async function(c){c.preventDefault();const n=document.getElementById("search-input").value.trim();if(!n){u.warning({title:"Warning",message:"Please enter a search images"});return}h.style.display="block",y.innerHTML="",p.style.display="none",f=1,C=n;try{const o=await E(n,f);o.hits.length===0?u.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"}):(w=o.totalHits,v(o),o.hits.length>=15&&(p.style.display="block"))}catch{y.innerHTML===""&&u.error({title:"Error",message:"An error occurred while searching for images"})}finally{h.style.display="none"}});p.addEventListener("click",async function(c){c.preventDefault(),h.style.display="block";try{f++;const n=await E(C,f);if(n.hits.length>0){const o=document.querySelector(".image-card").getBoundingClientRect().height;I(n),window.scrollBy({top:o*2,behavior:"smooth"})}}catch{p.style.display="none",u.warning({title:"Warning",message:"No more images to load"})}finally{y.querySelectorAll(".image-card").length>=w&&(p.style.display="none",u.info({title:"Info",message:"We're sorry, but you've reached the end of search results."})),h.style.display="none"}});
//# sourceMappingURL=commonHelpers.js.map
